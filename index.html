<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Luke's Map</title>
        <link rel="stylesheet" href="src/leaflet.css">
        <link rel="stylesheet" href="src/css/bootstrap.css">
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
        <script src="src/leaflet-src.js"></script>
        <script src="src/jquery-3.2.1.js"></script>
        <script src="src/plugins/leaflet-providers.js"></script>
        <script src="src/plugins/leaflet.ajax.min.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
       
        <style>
            #mapdiv{ width: 1605px; height: 602px; }
        </style>
        
    </head>
    <body>
        <div id="side-bar" class="col-md-3"></div>
        <div id="mapdiv" class="col-md-9"></div>
        <script>
            var mymap;
            var lyrOSM;
            var lyrTopo;
            var lyrHikeBike;
            var lyrDelorme
            var lyrDark
            var lyrImagery;
            var ctrLayers;
            var objBasemaps;
            var objOverlays;
            var ctrAttribute;
            var ctrScale;
            var lyrTrails;
            var myStyle;
            var lyrHikes;
            var popHikes;
            
            $(document).ready(function(){
                mymap = L.map('mapdiv', {center:[50.95259, -115.14257], zoom:8});
                lyrOSM = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	               maxZoom: 19,
	               attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                    });
                lyrTopo = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
	               maxZoom: 17,
	               attribution: 'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
                    });
                lyrHikeBike = L.tileLayer('http://{s}.tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png', {
	               maxZoom: 19,
	               attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                    });
                lyrDelorme = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}', {
                    attribution: 'Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme',
                    minZoom: 1,
                    maxZoom: 11
                    });
                lyrDark = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
                    subdomains: 'abcd',
                    maxZoom: 19
                    });
                lyrImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                    attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
                    });
                
                objBasemaps = {
                    "Open Street Maps": lyrOSM,
                    "Topo Map": lyrTopo,
                    "Satellite": lyrImagery,
		    "Hike Map": lyrHikeBike,
		    "Delorme Map": lyrDelorme,
		    "Dark Map": lyrDark
                };
                
                fgpDrawnItems = new L.FeatureGroup();
                fgpDrawnItems.addTo(mymap);
                      
                
                lyrTrails = L.geoJson.ajax('data/Trails.geojson', {
                    "color": "#DE0D0D",
                    "weight": 3,
                    "opacity": 0.25
                }).addTo(mymap);
                
		$.getJSON("data/Hike_2.geojson",function(data){
		    // add GeoJSON layer to the map once the file is loaded
		    L.geoJson(data,{
				    onEachFeature: function (feature, layer) {
                        if (feature.properties && feature.properties.Name) {
                            var popupContent = '<table>';
                            for (var p in feature.properties) {
                                popupContent += '<tr><td>' + p + ':</td><td><b>' + feature.properties[p] + '</b></td></tr>';
                            }
                            popupContent += '</table>';
                            layer.bindPopup(popupContent);
                        }
    }
			}).addTo(mymap);
		});
                    
                objOverlays = {
                    "All Trails": lyrTrails
                };
                
                
                ctlLayers = L.control.layers(objBasemaps, objOverlays).addTo(mymap);
                
                ctrScale = L.control.scale({position:'bottomleft'}).addTo(mymap);
            });
                
            
            
        </script>

    </body>
</html>
